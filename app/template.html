<!DOCTYPE html>
<html>
<head>
    <title>Search result</title>
    <meta charset="utf-8">
</head>
<body>

<h3 class="center">üîç –í—ã–¥–∞—á–∞ WB —Ç–æ–ø 300 / –ê—Ä—Ç–∏–∫—É–ª: <a href="$url">$article</a></h3>

<table class="sort" border="1" width="100%" cellpadding="5">
    <thead>
    <tr>
        <td class="header" width="700">–ü–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å</td>
        <td class="header">–ü–æ–∑–∏—Ü–∏—è</td>
        <td class="header">–ò–∑–º–µ–Ω–µ–Ω–∏–µ</td>
        <td class="header">–ß–∞—Å—Ç–æ—Ç–∞</td>
        <td class="header">–ö–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è</td>
    </tr>
    </thead>
    <tbody>
        $rows
    <!-- –î–æ–±–∞–≤—å—Ç–µ –¥—Ä—É–≥–∏–µ —Å—Ç—Ä–æ–∫–∏ –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ -->
    </tbody>
</table>
<style>
    /* –°—Ç–∏–ª–∏ –∑–¥–µ—Å—å */

    .center {
        text-align: center;
    }

    table {
        font-family: "Lucida Sans Unicode", "Lucida     Grande", Sans-Serif;
        font-size: 14px;
        border-radius: 10px;
        border-spacing: 0;
        text-align: center;
        margin-top: 20px;
    }

    td.header {
        background: #990099;
        color: black;
        text-shadow: 0 0 0 0;
        padding: 10px 20px;
        font-weight: bold;
    }

    th, td {
        border-style: solid;
        border-width: 0 0 1px 0;
        border-color: #CB11AB;
    }

    td:first-child, td:first-child {
        text-align: left;
    }

    th:first-child {
        border-top-left-radius: 10px;
    }

    td:last-child {
        border-top-right-radius: 10px;
        border-right: none;
    }

    td {
        padding: 10px 20px;
        background: #FFFF;
    }

    tr:last-child td:first-child {
        border-radius: 10px 0 0 0;
    }

    tr:last-child td:last-child {
        border-radius: 0 10px 0 0;
    }

    tr td:last-child {
        border-right: none;
    }

</style>

<script>
    // –í–∞—à JavaScript –∫–æ–¥ –∑–¥–µ—Å—å

    initial_sort_id = 1; // –Ω–æ–º–µ—Ä –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å—Ç–æ–ª–±—Ü–∞, –Ω–∞—á–∏–Ω–∞—è —Å –Ω—É–ª—è
    initial_sort_up = 0; // 0 - —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –≤–Ω–∏–∑, 1 - –≤–≤–µ—Ä—Ö
    var sort_case_sensitive = false; // —á—É—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ–≤—Ç—å –∫ —Ä–µ–≥–∏—Å—Ç—Ä—É –ø—Ä–∏ —Å–æ—Ç—Ä–∏—Ä–æ–≤–∫–µ

    function sort(e) {
        // –í–∞—à–∞ —Ñ—É–Ω–∫—Ü–∏—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –∑–¥–µ—Å—å
        var el = window.event ? window.event.srcElement : e.currentTarget;

        while (el.tagName.toLowerCase() != "td") el = el.parentNode;

        var a = new Array();
        var name = el.lastChild.nodeValue;
        var dad = el.parentNode;
        var table = dad.parentNode.parentNode;
        var up = table.up;

        var node, arrow, curcol;
        for (var i = 0; (node = dad.getElementsByTagName("td").item(i)); i++) {
            if (node.lastChild.nodeValue == name) {
                curcol = i;
                if (node.className == "curcol") {
                    arrow = node.firstChild;
                    table.up = Number(!up);
                } else {
                    var prevCurCol = dad.getElementsByClassName("curcol")[0];
                    if (prevCurCol && prevCurCol !== el) {
                        prevCurCol.className = "header"; // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –∫–ª–∞—Å—Å curcol —É –≤—Å–µ—Ö –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
                        if (prevCurCol.firstChild) {
                            prevCurCol.removeChild(prevCurCol.firstChild);
                        }
                    }
                    node.className = "curcol";
                    arrow = node.insertBefore(document.createElement("span"), node.firstChild);
                    arrow.appendChild(document.createTextNode(""));
                    table.up = 0;
                }
                arrow.innerHTML = ((table.up == 0) ? "&#8595;" : "&#8593;") + "&nbsp;";
            } else {
                if (node.className == "curcol") {
                    node.className = "header"; // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –∫–ª–∞—Å—Å curcol —É –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤, –∫—Ä–æ–º–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ
                    if (node.firstChild) node.removeChild(node.firstChild);
                }
            }
        }
        var tbody = table.getElementsByTagName("tbody").item(0);
        for (var i = 0; (node = tbody.getElementsByTagName("tr").item(i)); i++) {
            a[i] = new Array();
            a[i][0] = getConcatenedTextContent(node.getElementsByTagName("td").item(curcol));
            a[i][1] = getConcatenedTextContent(node.getElementsByTagName("td").item(1));
            a[i][2] = getConcatenedTextContent(node.getElementsByTagName("td").item(0));
            a[i][3] = node;
        }
        a.sort(_sort);
        if (table.up) a.reverse();
        for (var i = 0; i < a.length; i++) {
            tbody.appendChild(a[i][3]);
        }
    }

    function init(e) {
        if (!document.getElementsByTagName) return;

        if (document.createEvent) function click_elem(elem) {
            var evt = document.createEvent("MouseEvents");
            evt.initMouseEvent("click", false, false, window, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1, elem);
            elem.dispatchEvent(evt);
        }

        for (var j = 0; (thead = document.getElementsByTagName("thead").item(j)); j++) {
            var node;
            for (var i = 0; (node = thead.getElementsByTagName("td").item(i)); i++) {
                if (node.addEventListener) node.addEventListener("click", sort, false);
                else if (node.attachEvent) node.attachEvent("onclick", sort);
                node.title = "–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫, —á—Ç–æ–±—ã –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–ª–æ–Ω–∫—É";
            }
            thead.parentNode.up = 0;

            if (typeof (initial_sort_id) != "undefined") {
                td_for_event = thead.getElementsByTagName("td").item(initial_sort_id);
                if (td_for_event.dispatchEvent) click_elem(td_for_event);
                else if (td_for_event.fireEvent) td_for_event.fireEvent("onclick");
                if (typeof (initial_sort_up) != "undefined" && initial_sort_up) {
                    if (td_for_event.dispatchEvent) click_elem(td_for_event);
                    else if (td_for_event.fireEvent) td_for_event.fireEvent("onclick");
                }
            }
        }
    }

    var root = window.addEventListener || window.attachEvent ? window : document.addEventListener ? document : null;
    if (root) {
        if (root.addEventListener) root.addEventListener("load", init, false);
        else if (root.attachEvent) root.attachEvent("onload", init);
    }

    function getConcatenedTextContent(node) {
        if (!node || !node.hasChildNodes()) {
            return '';
        }
        var children = node.childNodes;
        var concatText = '';
        for (var i = 0; i < children.length; i++) {
            concatText += children[i].textContent;
        }
        return concatText;
    }

    function _sort(a, b) {
        // –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–≤—É–º —á–∞—Å—Ç—è–º —á–∏—Å–ª–∞ –≤–æ –≤—Ç–æ—Ä–æ–º —Å—Ç–æ–ª–±—Ü–µ
        var aParts = a[1].split('-');
        var bParts = b[1].split('-');

        if (parseInt(aParts[0]) !== parseInt(bParts[0])) {
            return parseInt(aParts[0]) - parseInt(bParts[0]);
        } else {
            return parseInt(aParts[1]) - parseInt(bParts[1]);
        }
    }
</script>

</body>
</html>
